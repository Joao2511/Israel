import React, { useEffect, useRef } from "react";
import { motion, useAnimation } from "framer-motion";

const SignatureAnimation = () => {
  const pathRef = useRef(null);
  const controls = useAnimation();

  useEffect(() => {
    if (pathRef.current) {
      const length = pathRef.current.getTotalLength();
      controls.set({ strokeDasharray: length, strokeDashoffset: length });
      controls.start({ strokeDashoffset: 0, transition: { duration: 3, ease: "easeInOut" } });
    }
  }, [controls]);

  return (
    <div className="flex flex-col items-center justify-center h-screen bg-black">
      <motion.h1
        initial={{ opacity: 0 }}
        animate={{ opacity: 1 }}
        transition={{ duration: 1 }}
        className="text-5xl font-bold text-white absolute"
      >
        Israel Cedraz
      </motion.h1>
      <motion.svg
        xmlns="http://www.w3.org/2000/svg"
        viewBox="0 0 650.28 414.65"
        width="600"
        height="auto"
        style={{position: "absolute",}}
      >
        <motion.path
          ref={pathRef}
          d="m122,86.71c-6.79.36-13.59.72-20.38,1.08l.85.51c11.61-27.74,12.73-59.42,3.08-87.91-.3-.89-2.9-.1-2.9.78-.04,28.13,7.89,55.68,14.67,82.75,6.92,27.59,14.17,55.1,21.76,82.52,4.3,15.54,8.71,31.04,13.22,46.52l2.9-.78c-11.42-25.41-23.29-51.25-41.85-72.37-8.35-9.5-17.99-17.98-28.91-24.41s-24.02-10.9-37.12-12.6c-15.39-2-31.04-.74-46.14,2.65-1.27.28-1.8,1.55-.06,1.3,30-4.38,59.99-8.75,89.99-13.13,29.86-4.36,59.72-8.71,89.58-13.07,16.97-2.48,33.93-4.95,50.9-7.43l.46-1.38c-28.6,4.36-57.21,8.71-85.81,13.07l.31,1.18c11.34-4.61,20.42-13.77,24.62-25.31.04-.13.01-.23-.09-.32-3.92-2.82-10.22,1.82-13.4,4.02-4.13,2.86-7.55,7.05-7.22,12.34.28,4.49,3.62,7.87,8.21,7.23,3.54-.49,7.93-3.21,6.91-7.35-.22-.88-2.48-.05-2.78.42-1.79,2.74,1.65,4.97,4.19,4.71,3.61-.37,5.46-3.49,6.74-6.52.37-.88-2.06-.28-2.31-.12-2.11,1.35-3.72,3-4.9,5.22-.11.21.14.36.27.43,4.39,2.34,11.83-3.42,8.15-7.98-.43-.53-1.8,0-2.23.21-3.41,1.69-5.57,4.89-5.61,8.73,0,.85,2.31-.01,2.59-.23,8.33-6.52,14.96-14.91,19.36-24.53.39-.86-2.42-.21-2.77.24-6.18,7.87-11.48,16.37-15.83,25.39-.04.13-.01.23.09.32,5.56,4.81,15.77-1.92,10.6-8.57l-1.94,1.26c2.78-.13,5.42-1.26,6.89-3.72l-2.77.24c-.81,2.42-1.62,4.83-2.43,7.25-.24.72,1.38.45,1.6.4,4.45-1.16,8.13-4.12,9.75-8.48.35-.95-2.29-.2-2.58.06-2.43,2.2-4.13,4.85-4.98,8.02-.09.32.27.48.53.49,5.37.3,11-3.72,10.33-9.54-.05-.43-.99-.33-1.22-.3-4.93.63-9.22,4.95-8.1,10.15.14.67,1.68.2,1.99.1,5.34-1.83,9.42-6.4,10.1-12.08.13-1.04-2.6-.31-2.88.42-9.78,25.84-12.55,54.21-7.9,81.45.85,4.97,1.37,14.24,7.48,15.77.72.18,2.04.02,2.5-.67,7.42-11.23,13.6-23.74,17.03-36.8,1.54-5.87,2.36-12.36.18-18.19-1.66-4.43-4.91-7.97-9.03-10.25-8.57-4.76-19.53-4.57-28.89-2.77-11.82,2.27-23.33,6.51-33.98,12.08-12.33,6.45-23.54,14.91-33.14,24.97-.75.78,1.25.63,1.5.58,40.21-8.77,79.14-22.39,117.57-36.97s77.08-30.42,116.48-43.25c22.14-7.21,44.6-13.5,67.43-18.13.36-.07,1.7-.35,1.67-.9s-.76-.57-1.21-.48c-40.45,8.2-79.61,21.47-118.18,35.97-38.91,14.62-77.37,30.47-116.8,43.67-22.1,7.4-44.5,13.91-67.27,18.87l1.5.58c16.15-16.91,37.06-29.12,59.79-34.67,9.28-2.26,19.67-3.28,28.71.52,4.23,1.78,7.94,4.79,10.06,8.91,2.79,5.42,2.57,11.68,1.32,17.49-2.97,13.75-9.68,27.16-17.39,38.83l2.5-.67c-5.49-1.37-6-10.04-6.79-14.52-1.16-6.6-1.89-13.27-2.18-19.96-.59-13.45.58-26.98,3.46-40.13,1.62-7.4,3.8-14.66,6.48-21.74l-2.88.42c-.58,4.82-3.64,9.09-8.31,10.68l1.99.1c-.69-3.23,1.13-7.53,4.75-7.99l-1.22-.3c.37,3.19-1.92,7.57-5.62,7.36l.53.49c.77-2.83,2.2-5.31,4.38-7.28l-2.58.06c-1.22,3.29-3.74,5.94-7.19,6.84l1.6.4c.81-2.42,1.62-4.83,2.43-7.25.31-.91-2.45-.3-2.77.24-.69,1.14-1.54,2.15-3.04,2.22-.43.02-2.54.49-1.94,1.26,1.86,2.4,1.5,8.25-2.7,7.65-1.03-.15-2.08-.46-2.08-1.58,0-.54.76-1.54.99-2,.78-1.55,1.6-3.08,2.44-4.6,3.46-6.23,7.45-12.15,11.86-17.75l-2.77.24c-4.26,9.33-10.68,17.48-18.75,23.79l2.59-.23c.04-3.09,1.67-5.91,4.46-7.29l-2.23.21c1.26,1.57.78,3.67-.5,5.08-.55.6-2.86,1.71-1.8.04.82-1.29,1.94-2.38,3.23-3.2l-2.31-.12c-.56,1.34-1.31,3.63-2.69,4.35-1.64.85-3.68-1.5-2.68-3.02l-2.78.42c.63,2.56-1.38,5.26-4.1,5.22s-4.57-2.89-5.06-5.33c-1.36-6.86,4.37-11.6,9.72-14.56.96-.53,5.14-3.05,4.62-.44-.27,1.32-1.18,2.75-1.79,3.93-1.44,2.77-3.22,5.36-5.25,7.72-4.17,4.86-9.42,8.69-15.35,11.1-1.22.5-1,1.38.31,1.18,28.6-4.36,57.21-8.71,85.81-13.07,1.29-.2,2.48-1.68.46-1.38-30,4.38-59.99,8.75-89.99,13.13s-59.72,8.71-89.58,13.07c-16.97,2.48-33.93,4.95-50.9,7.43l-.06,1.3c26.34-5.92,54.79-4.55,78.68,8.92,22.35,12.6,38.87,33.27,51.44,55.24,7.78,13.59,14.27,27.86,20.68,42.13.37.83,3.15.07,2.9-.78-8-27.44-15.66-54.98-22.99-82.61-7.26-27.35-14.57-54.77-20.69-82.41-3.4-15.38-5.99-30.99-5.96-46.78l-2.9.78c9.62,28.4,8.52,59.9-3.06,87.55-.18.44.62.52.85.51,6.79-.36,13.59-.72,20.38-1.08.51-.03,1.69-.19,1.92-.75s-.19-.72-.74-.69h0Z"
            fill="purple"
          animate={controls}
        
        />
      </motion.svg>
    </div>
  );
};

export default SignatureAnimation;